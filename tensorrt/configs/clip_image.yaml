# TensorRT build configuration for CLIP image encoder

model_name: "clip_image"
onnx_path: "../onnx_models/clip_image/1/model.onnx" 
engine_path: "../tensorrt/engines/clip_image/1/model.plan"

build_config:
  # Memory configuration (MB)
  max_workspace_size: 2048
  
  # Precision settings
  fp16: true
  int8: false
  
  # Optimization settings
  optimization_level: 5
  
  # Dynamic batching configuration
  dynamic_shapes:
    pixel_values:
      min: [1, 3, 224, 224]
      opt: [8, 3, 224, 224]
      max: [32, 3, 224, 224]

# Triton deployment settings
triton_config:
  max_batch_size: 32
  instance_group:
    - count: 1
      kind: "KIND_GPU"
  dynamic_batching:
    preferred_batch_size: [4, 8, 16]
    max_queue_delay_microseconds: 50